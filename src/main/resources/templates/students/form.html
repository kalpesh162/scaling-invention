<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Form</title>
<style>
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	min-height: 100vh;
	padding: 20px;
	display: flex;
	justify-content: center;
	align-items: center;
}

.container {
	max-width: 700px;
	width: 100%;
	background: white;
	border-radius: 15px;
	padding: 40px;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

h1 {
	color: #333;
	margin-bottom: 30px;
	text-align: center;
	font-size: 2em;
}

.form-row {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 20px;
	margin-bottom: 25px;
}

.form-group {
	margin-bottom: 25px;
}

.form-group.full-width {
	grid-column: 1/-1;
}

label {
	display: block;
	margin-bottom: 8px;
	color: #4a5568;
	font-weight: 600;
	font-size: 14px;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

label .required {
	color: #f56565;
}

input, select, textarea {
	width: 100%;
	padding: 12px 15px;
	border: 2px solid #e2e8f0;
	border-radius: 8px;
	font-size: 16px;
	transition: all 0.3s;
	font-family: inherit;
}

input:focus, select:focus, textarea:focus {
	outline: none;
	border-color: #667eea;
	box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

input.error, select.error, textarea.error {
	border-color: #f56565;
}

.error-message {
	color: #f56565;
	font-size: 13px;
	margin-top: 5px;
	display: flex;
	align-items: center;
	gap: 5px;
}

.error-message::before {
	content: "‚ö†Ô∏è";
}

.btn-group {
	display: flex;
	gap: 15px;
	margin-top: 30px;
}

.btn {
	flex: 1;
	padding: 14px 24px;
	border: none;
	border-radius: 8px;
	cursor: pointer;
	font-size: 16px;
	transition: all 0.3s;
	font-weight: 600;
	text-decoration: none;
	text-align: center;
	display: inline-block;
}

.btn-primary {
	background: #667eea;
	color: white;
}

.btn-primary:hover {
	background: #5568d3;
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.btn-secondary {
	background: #cbd5e0;
	color: #2d3748;
}

.btn-secondary:hover {
	background: #a0aec0;
}

.back-link {
	display: inline-block;
	margin-bottom: 20px;
	color: #667eea;
	text-decoration: none;
	font-weight: 600;
	transition: color 0.3s;
}

.back-link:hover {
	color: #5568d3;
}

.help-text {
	font-size: 12px;
	color: #718096;
	margin-top: 5px;
}

/* Responsive */
@media ( max-width : 768px) {
	.form-row {
		grid-template-columns: 1fr;
	}
	.container {
		padding: 25px;
	}
}
</style>
</head>
<body>
	<div class="container">
		<a href="/students" class="back-link">‚Üê Back to List</a>

		<h1
			th:text="${student.id != null ? '‚úèÔ∏è Edit Student' : '‚ûï Add New Student'}">Student
			Form</h1>

		<form
			th:action="${student.id != null ? '/students/update/' + student.id : '/students'}"
			th:object="${student}" method="post">

			<div class="form-row">
				<div class="form-group">
					<label for="name"> Student Name <span class="required">*</span>
					</label> <input type="text" id="name" th:field="*{name}"
						th:classappend="${#fields.hasErrors('name')} ? 'error'"
						placeholder="Enter full name" required>
					<div class="error-message" th:if="${#fields.hasErrors('name')}"
						th:errors="*{name}"></div>
					<div class="help-text">Minimum 2 characters</div>
				</div>

				<div class="form-group">
					<label for="age"> Age <span class="required">*</span>
					</label> <input type="number" id="age" th:field="*{age}"
						th:classappend="${#fields.hasErrors('age')} ? 'error'"
						placeholder="Enter age" min="16" max="100" required>
					<div class="error-message" th:if="${#fields.hasErrors('age')}"
						th:errors="*{age}"></div>
					<div class="help-text">Age must be between 16-100</div>
				</div>
			</div>

			<div class="form-group">
				<label for="course"> Course <span class="required">*</span>
				</label> <input type="text" id="course" th:field="*{course}"
					th:classappend="${#fields.hasErrors('course')} ? 'error'"
					placeholder="e.g., Computer Science, MBA, Engineering"
					list="course-suggestions" required>
				<datalist id="course-suggestions">
					<option value="Computer Science">
					<option value="Information Technology">
					<option value="Mechanical Engineering">
					<option value="Civil Engineering">
					<option value="Electrical Engineering">
					<option value="Business Administration">
					<option value="MBA">
					<option value="Data Science">
					<option value="Artificial Intelligence">
					<option value="Medicine">
					<option value="Law">
				</datalist>
				<div class="error-message" th:if="${#fields.hasErrors('course')}"
					th:errors="*{course}"></div>
				<div class="help-text">Start typing to see suggestions</div>
			</div>

			<div class="form-row">
				<div class="form-group">
					<label for="email">Email Address</label> <input type="email"
						id="email" th:field="*{email}"
						th:classappend="${#fields.hasErrors('email')} ? 'error'"
						placeholder="student@example.com">
					<div class="error-message" th:if="${#fields.hasErrors('email')}"
						th:errors="*{email}"></div>
					<div class="help-text">Optional - Valid email format</div>
				</div>

				<div class="form-group">
					<label for="phone">Phone Number</label> <input type="tel"
						id="phone" th:field="*{phone}"
						th:classappend="${#fields.hasErrors('phone')} ? 'error'"
						placeholder="1234567890" pattern="[0-9]{10}" maxlength="10">
					<div class="error-message" th:if="${#fields.hasErrors('phone')}"
						th:errors="*{phone}"></div>
					<div class="help-text">Optional - 10 digits only</div>
				</div>
			</div>

			<div class="btn-group">
				<button type="submit" class="btn btn-primary">üíæ Save
					Student</button>
				<a href="/students" class="btn btn-secondary"> ‚ùå Cancel </a>
			</div>
		</form>
	</div>

	<script>
        // Real-time validation feedback
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('blur', function() {
                if (this.validity.valid) {
                    this.classList.remove('error');
                } else {
                    this.classList.add('error');
                }
            });
            
            input.addEventListener('input', function() {
                if (this.classList.contains('error') && this.validity.valid) {
                    this.classList.remove('error');
                }
            });
        });
        
        // Phone number formatting
        const phoneInput = document.getElementById('phone');
        if (phoneInput) {
            phoneInput.addEventListener('input', function(e) {
                this.value = this.value.replace(/[^0-9]/g, '');
            });
        }
    </script>
</body>
</html>